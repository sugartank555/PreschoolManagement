@model PreschoolManagement.Models.ContactMessage
@{
    Layout = "~/Areas/Dashboard/Views/Shared/_DashboardLayout.cshtml";
}

@section Breadcrumb {
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a asp-area="Dashboard" asp-controller="Home" asp-action="Index">Tổng quan</a></li>
        <li class="breadcrumb-item"><a asp-area="Dashboard" asp-controller="ContactMessages" asp-action="Index">Liên hệ</a></li>
        <li class="breadcrumb-item active">#@Model.Id</li>
    </ol>
}

<div class="card">
    <div class="card-body">
        <div class="d-flex justify-content-between">
            <h5 class="card-title mb-3">Liên hệ #@Model.Id</h5>
            <div class="d-flex gap-2">
                <a class="btn btn-outline-secondary" asp-action="Index">Quay lại</a>
                <form asp-action="Delete" asp-route-id="@Model.Id" method="post"
                      onsubmit="return confirm('Xoá liên hệ #@Model.Id ?');">
                    <button class="btn btn-outline-danger">Xoá</button>
                </form>
            </div>
        </div>

        <dl class="row">
            <dt class="col-sm-3">Thời gian</dt>
            <dd class="col-sm-9">@Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</dd>

            <dt class="col-sm-3">Họ tên</dt>
            <dd class="col-sm-9">@Model.Name</dd>

            <dt class="col-sm-3">Email</dt>
            <dd class="col-sm-9"><a href="mailto:@Model.Email">@Model.Email</a></dd>

            <dt class="col-sm-3">Chủ đề</dt>
            <dd class="col-sm-9">@(!string.IsNullOrWhiteSpace(Model.Subject) ? Model.Subject : "-")</dd>

            <dt class="col-sm-3">Nội dung</dt>
            <dd class="col-sm-9"><pre class="mb-0" style="white-space:pre-wrap">@Model.Message</pre></dd>

            <dt class="col-sm-3">Người gửi (đăng nhập)</dt>
            <dd class="col-sm-9">@Model.CreatedBy?.FullName ?? Model.CreatedBy?.UserName ?? "-"</dd>

            <dt class="col-sm-3">Liên quan đến bé</dt>
            <dd class="col-sm-9">@Model.RelatedStudent?.FullName ?? "-"</dd>
        </dl>
    </div>
</div>
